create database Inventory_Management_Software;

create table SUPPLIER(
	SID char(10) PRIMARY KEY,
	NAME varchar(30)not null,
	ADDRESS varchar(50)not null,
	CITY varchar(30)default 'DELHI',
	PHONE_NO varchar(12)unique,
	EMAIL varchar(40),);


alter table supplier 
alter column sid char (10) not null;


select * from SUPPLIER


insert into SUPPLIER(SID,NAME,ADDRESS,CITY,PHONE_NO,EMAIL)
values('S0001','ALTHAF','ELAMKUZHI','KOZHIKKODE','9995506569','althu@45')

insert into SUPPLIER(SID,NAME,ADDRESS,CITY,PHONE_NO,EMAIL)
values('S0002','MAJID','KUNNATH','MALAPPURAM','9995506561','maji@45')


insert into SUPPLIER(SID,NAME,ADDRESS,CITY,PHONE_NO,EMAIL)
values('S0003','SHABEER','PALLIKKAL','THIRUR','9995506545','shabee@45')

insert into SUPPLIER(SID,NAME,ADDRESS,CITY,PHONE_NO,EMAIL)
values('S0004','RAYAN','KUNNUMPURAM','KONDOTTY','9995504565','raya@4645')


insert into SUPPLIER(SID,NAME,ADDRESS,CITY,PHONE_NO,EMAIL)
values('S0005','AJSAL','PAROT','EDAVANNAPPARA','8606423105','ajsa@446')

insert into SUPPLIER(SID,NAME,ADDRESS,CITY,PHONE_NO,EMAIL)
values('S0006','IRFAD','CHEEDIPOTTA','KONDOTTY','9542506561','irfa@45445')

insert into SUPPLIER(SID,NAME,ADDRESS,CITY,PHONE_NO,EMAIL)
values('S0007','THANVEER','KUNOOR','PALAKKAD','9994506545','thanve@4521')

insert into SUPPLIER(SID,NAME,ADDRESS,CITY,PHONE_NO,EMAIL)
values('S0008','JIMIL','THURUTHIL','KOCHI','8086504565','jimmy@4645')


insert into SUPPLIER(SID,NAME,ADDRESS,CITY,PHONE_NO,EMAIL)
values('S0009','JINSHID','ELAMKUZHI','CHERUVAYOOR','8086064231','jin@446')

insert into SUPPLIER(SID,NAME,ADDRESS,PHONE_NO,EMAIL)
values('S0010','SAFWAN','CHEEDIKUZHI','9542578561','safoox@45445');


SELECT * FROM SUPPLIER;


CREATE TABLE PRODUCT(
P_ID VARCHAR (10)PRIMARY KEY,
P_DESC VARCHAR(300) NOT NULL,
PRICE INT CHECK (PRICE>0),




SID CHAR(10) CONSTRAINT FK_SID FOREIGN KEY (SID) REFERENCES SUPPLIER (SID),);



INSERT INTO PRODUCT(P_ID,P_DESC,PRICE,CATEGORY,SID)
VALUES ('P0001','Laptop with 16GB RAM and 512GB SSD',65000,'IT','S0001')


INSERT INTO PRODUCT(P_ID,P_DESC,PRICE,CATEGORY,SID)
VALUES ('P0002','Energy-Efficient Washing Machine',55000,'HA','S0002')


INSERT INTO PRODUCT(P_ID,P_DESC,PRICE,CATEGORY,SID)
VALUES ('P0003','Digital Blood Pressure Monitor',35000,'HC','S0003')


INSERT INTO PRODUCT(P_ID,P_DESC,PRICE,CATEGORY,SID)
VALUES ('P0004','Wireless Mouse with Bluetooth Connectivity',1500,'IT','S0001')

INSERT INTO PRODUCT(P_ID,P_DESC,PRICE,CATEGORY,SID)
VALUES ('P0005','Air Purifier with HEPA Filter',30000,'HA','S0002')


INSERT INTO PRODUCT(P_ID,P_DESC,PRICE,CATEGORY,SID)
VALUES ('P0006','Fitness Band with Heart Rate Tracking"',2000,'HC','S0003')


INSERT INTO PRODUCT(P_ID,P_DESC,PRICE,CATEGORY,SID)
VALUES ('P0007','27-inch 4K UHD Monitor',15000,'IT','S0001')


INSERT INTO PRODUCT(P_ID,P_DESC,PRICE,CATEGORY,SID)
VALUES ('P0008','Smart Refrigerator with Touch Display',80000,'HA','S0002')

INSERT INTO PRODUCT(P_ID,P_DESC,PRICE,CATEGORY,SID)
VALUES ('P0009','Portable Oxygen Concentrator',3000,'HC','S0003')


INSERT INTO PRODUCT(P_ID,P_DESC,PRICE,CATEGORY,SID)
VALUES ('P0010','External Hard Drive 1TB',3500,'IT','S0001')


INSERT INTO PRODUCT(P_ID,P_DESC,PRICE,CATEGORY,SID)
VALUES ('P0011','Microwave Oven 30L Capacity',12000,'HA','S0002')


INSERT INTO PRODUCT(P_ID,P_DESC,PRICE,CATEGORY,SID)
VALUES ('P0012','Compact First-Aid Kit for Travel and Home Use',2000,'HC','S0003')

INSERT INTO PRODUCT(P_ID,P_DESC,PRICE,CATEGORY,SID)
VALUES ('P0013','Mechanical Keyboard with Customizable RGB Lights',2500,'IT','S0001')


INSERT INTO PRODUCT(P_ID,P_DESC,PRICE,CATEGORY,SID)
VALUES ('P0014','Double Door Refrigerator with Frost Free Technology',45000,'HA','S0002')


INSERT INTO PRODUCT(P_ID,P_DESC,PRICE,CATEGORY,SID)
VALUES ('P0015','Electric Toothbrush with Multiple Modes',1500,'HC','S0003');

SELECT * FROM PRODUCT;



CREATE TABLE ORDERS(
O_ID VARCHAR (10),
O_DATE DATE,
C_ID VARCHAR(10),
P_ID VARCHAR(10)CONSTRAINT FK_ID FOREIGN KEY (P_ID) REFERENCES PRODUCT (P_ID),
O_QTY INT,CHECK (O_QTY>=1));



INSERT INTO ORDERS(O_ID,O_DATE,C_ID,P_ID,O_QTY)
VALUES ('O0001','01-01-2024','C0001','P0001',50)

INSERT INTO ORDERS(O_ID,O_DATE,C_ID,P_ID,O_QTY)
VALUES ('O0002','05-02-2024','C0002','P0002',40)

INSERT INTO ORDERS(O_ID,O_DATE,C_ID,P_ID,O_QTY)
VALUES ('O0003','07-02-2024','C0003','P0003',100)

INSERT INTO ORDERS(O_ID,O_DATE,C_ID,P_ID,O_QTY)
VALUES ('O0004','12-01-2024','C0004','P0004',70)

INSERT INTO ORDERS(O_ID,O_DATE,C_ID,P_ID,O_QTY)
VALUES ('O0005','01-03-2024','C0005','P0005',30);

SELECT * FROM ORDERS;


alter table orders
add constraint pk_id foreign key (c_id) references cust(c_id);



CREATE TABLE STOCK(
P_ID VARCHAR(10) CONSTRAINT FOREIGN_K_ID FOREIGN KEY (P_ID) REFERENCES PRODUCT (P_ID),
S_QTY INT CHECK (S_QTY>=0),
ROL INT CHECK (ROL>0),
MOQ INT CHECK(MOQ>=5),);



INSERT INTO STOCK(P_ID,S_QTY,ROL,MOQ)
VALUES ('P0001','40','20','40')

INSERT INTO STOCK(P_ID,S_QTY,ROL,MOQ)
VALUES ('P0002','60','30','50')

INSERT INTO STOCK(P_ID,S_QTY,ROL,MOQ)
VALUES ('P0003','90','40','70')

INSERT INTO STOCK(P_ID,S_QTY,ROL,MOQ)
VALUES ('P0004','80','20','60')

INSERT INTO STOCK(P_ID,S_QTY,ROL,MOQ)
VALUES ('P0005','75','20','55')

INSERT INTO STOCK(P_ID,S_QTY,ROL,MOQ)
VALUES ('P0006','90','20','70')

INSERT INTO STOCK(P_ID,S_QTY,ROL,MOQ)
VALUES ('P0007','70','20','50')

INSERT INTO STOCK(P_ID,S_QTY,ROL,MOQ)
VALUES ('P0008','60','20','40')

INSERT INTO STOCK(P_ID,S_QTY,ROL,MOQ)
VALUES ('P0009','100','40','50')

INSERT INTO STOCK(P_ID,S_QTY,ROL,MOQ)
VALUES ('P0010','80','20','40');

SELECT * FROM STOCK;



CREATE TABLE CUST(
C_ID VARCHAR(10) primary key,
C_NAME VARCHAR(50)NOT NULL,
ADDRESS VARCHAR(50)NOT NULL,
CITY VARCHAR (20)NOT NULL,
PHONE VARCHAR(12)NOT NULL,
EMAIL VARCHAR (30)NOT NULL,
DOB DATE CHECK (DOB<'01-01-2000'),);




alter table cust
alter column c_id varchar(10) not null;

alter table cust
add constraint pk_cust primary key (c_id); 




insert INTO CUST(C_ID,C_NAME,ADDRESS,CITY,PHONE,EMAIL,DOB)
VALUES ('C0001','AJIN','PERUMANNA','KOZHIKKODE','8545961275','ajin254@gmail.com','01-01-1999')

insert INTO CUST(C_ID,C_NAME,ADDRESS,CITY,PHONE,EMAIL,DOB)
VALUES ('C0002','ROY','PERUMBAVOOR','KOCHI','8545964512','roy254@gmail.com','02-02-1999')

insert INTO CUST(C_ID,C_NAME,ADDRESS,CITY,PHONE,EMAIL,DOB)
VALUES ('C0003','RAHUL','OTHAI','KOZHIKKODE','9045961275','rahul254@gmail.com','01-01-1998')

insert INTO CUST(C_ID,C_NAME,ADDRESS,CITY,PHONE,EMAIL,DOB)
VALUES ('C0004','SHAFEER','VAYITTILA','ALAPPUZHA','9606961275','shafee4@gmail.com','01-05-1996')

insert INTO CUST(C_ID,C_NAME,ADDRESS,CITY,PHONE,EMAIL,DOB)
VALUES ('C0005','FAIZAL','KADAVIL','KOTTAYAM','8545485275','faiz55u@gmail.com','03-04-1999');

SELECT * FROM CUST;



select * from supplier;

select * from PRODUCT;

select * from STOCK;

select * from ORDERS;

select * from CUST;

create table bill(
O_ID VARCHAR (10),
O_DATE DATE,
C_NAME VARCHAR(50)NOT NULL,
ADDRESS VARCHAR(50)NOT NULL,
PHONE VARCHAR(12)NOT NULL,
P_DESC VARCHAR(300) NOT NULL,
PRICE INT,
O_QTY INT,
AMT int,);


INSERT INTO BILL (O_ID, O_DATE, C_NAME, ADDRESS, PHONE, P_DESC, PRICE, O_QTY, AMT)
SELECT 
    o.O_ID AS OID, 
    o.O_DATE AS ODATE, 
    c.C_NAME AS CNAME, 
    c.ADDRESS AS ADDRESS, 
    c.PHONE AS PHONE, 
    p.P_DESC AS PDESC, 
    p.PRICE AS PRICE, 
    o.O_QTY AS OQTY, 
    (p.PRICE * o.O_QTY) AS AMT
FROM 
    ORDERS o
JOIN 
    PRODUCT p ON o.P_ID = p.P_ID
JOIN 
    CUST c ON o.C_ID = c.C_ID;

select * from BILL